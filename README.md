# Сайт для записи к мастеру маникюра

Полнофункциональный сайт для онлайн-записи клиентов к мастеру маникюра с админ-панелью.

## Возможности

### Публичная часть:
- Просмотр услуг с ценами и длительностью
- Просмотр примеров работ (портфолио)
- Онлайн-запись с выбором услуги и времени
- Адаптивный дизайн для мобильных устройств

### Админ панель:
- Управление услугами (добавление, редактирование, активация/деактивация)
- Управление портфолио (добавление работ с загрузкой изображений)
- Управление временными слотами для записи
- Просмотр всех записей клиентов
- Аутентификация для доступа к админке

## Технологии

- **Next.js 14** - React фреймворк с App Router
- **TypeScript** - Типобезопасность
- **Prisma** - ORM для работы с базой данных
- **PostgreSQL** - База данных (для production на Vercel)
- **NextAuth** - Аутентификация
- **Tailwind CSS** - Стилизация
- **React Hook Form** - Работа с формами
- **Zod** - Валидация данных

## Установка и запуск

1. Установите зависимости:
```bash
npm install
```

2. Создайте файл `.env` на основе `.env.example`:
```bash
cp .env.example .env
```

3. Настройте переменные окружения в `.env`:
```
# Для локальной разработки можно использовать SQLite
DATABASE_URL="file:./dev.db"
# Или PostgreSQL для production
# DATABASE_URL="postgresql://user:password@localhost:5432/dbname"

NEXTAUTH_URL="http://localhost:3000"
NEXTAUTH_SECRET="your-secret-key-change-this-in-production"
ADMIN_EMAIL="admin@example.com"
ADMIN_PASSWORD="admin123"
```

**Важно:** Для деплоя на Vercel необходимо использовать PostgreSQL. См. `VERCEL_DATABASE_SETUP.md` для инструкций.

4. Инициализируйте базу данных:
```bash
npm run db:push
npm run db:generate
```

5. Создайте администратора (опционально, можно использовать скрипт):
```bash
node scripts/create-admin.js
```

6. Запустите сервер разработки:
```bash
npm run dev
```

Откройте [http://localhost:3000](http://localhost:3000) в браузере.

## Структура проекта

```
├── app/
│   ├── admin/          # Админ панель
│   ├── api/            # API routes
│   ├── booking/        # Страница записи
│   └── page.tsx        # Главная страница
├── components/         # React компоненты
├── lib/               # Утилиты и конфигурация
├── prisma/            # Схема базы данных
└── public/            # Статические файлы
```

## Первоначальная настройка

После первого запуска:

1. Войдите в админ панель по адресу `/admin/login`
2. Используйте учетные данные из `.env` файла
3. Добавьте услуги через админ панель
4. Добавьте примеры работ в портфолио
5. Создайте временные слоты для записи

## Загрузка изображений

Изображения загружаются в папку `public/uploads/`. Убедитесь, что эта папка существует и доступна для записи.

## Производственное развертывание

Для production:

1. Измените `DATABASE_URL` на PostgreSQL или другую production БД
2. Установите надежный `NEXTAUTH_SECRET`
3. Настройте переменные окружения на сервере
4. Запустите миграции: `npx prisma migrate deploy`
5. Соберите проект: `npm run build`
6. Запустите: `npm start`

## Лицензия

MIT
